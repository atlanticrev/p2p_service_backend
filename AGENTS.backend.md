<!-- Generated by `build-agents-md.sh` from profile-based parts in `agents-rules/`. -->
# Project Guide (Codex Context)

## File Size & Modularity

- Do not allow large files. Large files are hard to read, hard to maintain, and lead to poor structure.
- Always extract related logic into small semantic modules and compose them through clear entry points.
- Keep project structure explicit and meaningful by feature/domain.
- Target file size: up to `150-200` lines for regular source files.
- If a file grows beyond `200` lines, split it by responsibility before continuing feature work.
- Code line length in files must strictly not exceed `120` characters.

## Code Clarity & Patterns

- Do not allow overengineering or accumulation of unrelated code in a single implementation.
- Keep code cohesive: one module/function should focus on one clear responsibility.
- Use appropriate design patterns (for example `Observer`, `Decorator`, `Strategy`) when they improve
  readability, predictability, and maintainability.
- Prefer solutions that are maximally clear for humans reading and maintaining the code.

## Python Module Architecture

- Organize Python code by domain/feature into packages (example pattern: `app/<domain>_engine/`).
- Keep the project root package (`app/`) clean: no near-empty proxy files like `app/<domain>.py` that only re-export another package.
- Prefer explicit static imports in package entry points (`__init__.py`) over dynamic imports (`__getattr__`, runtime import maps), unless there is a strict performance reason.
- Expose a clear public API from each package through `__init__.py` with explicit names in `__all__`.
- Internal implementation details should stay inside the domain package modules and not leak into root-level imports.
- Cross-domain imports should target package APIs (`app.<domain>_engine`) or a single approved root alias (for example `from app import config`) rather than random deep imports.
- Keep one responsibility per module and split files when they approach `200` lines.

## Environment Configuration

- Runtime/app settings (timeouts, model ids, feature flags, thresholds, export params, API base URLs, etc.) must be stored in a single root `.env`.
- Keep `.env.example` up to date and use it as the default configuration template.
- Group `.env` variables by semantic blocks and keep short comments above each block.
- Avoid scattering hardcoded env defaults across multiple files when the value is intended to be user-configurable.
- `docker-compose.yml` should consume values from `.env` via `${VAR}` references instead of duplicating independent constants.
